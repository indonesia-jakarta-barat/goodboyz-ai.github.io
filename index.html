<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="Tulisno">
  <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&amp;display=swap"
    rel="stylesheet">

  <title>Tulisno | Web Auto Nulis Tugas</title>
  <!--

-->

  <!-- Additional CSS Files -->
  <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">

  <link rel="stylesheet" type="text/css" href="assets/css/font-awesome.css">

  <link rel="stylesheet" href="assets/css/templatemo-lava.css">

  <link rel="stylesheet" href="assets/css/owl-carousel.css">

  <style>
    @font-face {
      font-family: HandwritingCR-2;
      src: url(/fonts/HandwritingCR-2.ttf);
    }

    @media only screen and (max-width: 1140px) {
      .welcome-area {
        margin-bottom: 50px;
      }
    }
  </style>
</head>

<body>
  </div>
  <!-- ***** Welcome Area End ***** -->

  <div class="left-image-decor"></div>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.1.9/lib/p5.js"></script>
  <script>
    let bg, font, margin, gap, fontsize = 16;
    let txtDate = '',
      txtName = '',
      txtContent = '';

    let fonts = [{
        'index': 0,
        'name': 'HandwritingCR 2',
        'file': 'HandwritingCR-2.ttf'
      },
      {
        'index': 1,
        'name': 'Gloria Hallelujah',
        'file': 'GloriaHallelujah-Regular.ttf'
      },
      {
        'index': 2,
        'name': 'Heart Warming by Situjuh',
        'file': 'Heart Warming Font by Situjuh.otf'
      },
      {
        'index': 3,
        'name': 'Shadows Into Light',
        'file': 'ShadowsIntoLight-Regular.ttf'
      }
    ];

    let getFontIndex = () => {
      let fontIndex = localStorage.getItem('fontIndex');
      if (fontIndex) {
        return fonts[fontIndex];
      }
      return fonts[0];
    }

    // canvas
    function preload() {

    }

    function setup() {
      // ukuran asli gambar 300x441
      createCanvas(300 * 2, 447 * 2);
      bg = loadImage('/img/folio.jpg');
      font = loadFont('/fonts/' + getFontIndex().file);

      textFont(font);
      textSize(fontsize);
    }

    function draw() {
      // fix_dpi();
      background(bg);
      margin = 20;
      fill(0, 0, 0, 200);
      translate(margin - 8, margin * 4);
      text(txtName, 0, 0);
      text(txtDate, 450, 0);
      translate(0, margin + 7);

      text(txtContent, 0, 0, 580 /*, 800 */ );
    }

    document.addEventListener('DOMContentLoaded', (e) => {
      let fontSelectEl = document.getElementById('font');
      let fontSelectOptionTemplate = (index, name) => {
        let _selected = (index == getFontIndex().index) ? 'selected' : '';
        return `<option value="${index}" ${_selected}>${name}</option>`;
      }
      let _temp = '';
      fonts.forEach((font, index) => {
        _temp += fontSelectOptionTemplate(index, font.name);
      });
      fontSelectEl.innerHTML = _temp;
    });
  </script>
  <script>
    function downloadCanvas(c, filename) {
      /// create an "off-screen" anchor tag
      var lnk = document.createElement('a'),
        e;
      /// the key here is to set the download attribute of the a tag
      lnk.download = filename;
      /// convert canvas content to data-uri for link. When download
      /// attribute is set the content pointed to by link will be
      /// pushed as "download" in HTML5 capable browsers
      lnk.href = c.toDataURL();
      /// create a "fake" click-event to trigger the download
      if (document.createEvent) {
        e = document.createEvent("MouseEvents");
        e.initMouseEvent("click", true, true, window,
          0, 0, 0, 0, 0, false, false, false,
          false, 0, null);
        lnk.dispatchEvent(e);
      } else if (lnk.fireEvent) {
        lnk.fireEvent("onclick");
      }
    }
    function fix_dpi() {
      let canvas = document.getElementById('defaultCanvas0');
      let dpi = window.devicePixelRatio;
      let style = {
        height() {
          return +getComputedStyle(canvas).getPropertyValue('height').slice(0, -2);
        },
        width() {
          return +getComputedStyle(canvas).getPropertyValue('width').slice(0, -2);
        }
      }
      canvas.setAttribute('width', style.width() * dpi);
      canvas.setAttribute('height', style.height() * dpi);
    }
  </script>
  <!-- ***** Features Big Item Start ***** -->
  <section class="section" id="Tulisno">
    <div class="container">
      <div class="row">

        <!-- ***** Contact Form Start ***** -->
        <div class="col-lg-6 col-md-12 col-sm-12">
          <div class="contact-form">
            <div class="card-body">
              <div class="form-group">
              </div>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="font">Pilih Jenis Font:</label>
                  <select class="form-control" id="font"
                    onchange="localStorage.setItem('fontIndex', this.value);setup()"></select>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="date">Hari atau Tanggal</label>
                  <input type="text" class="form-control" id="date" oninput="txtDate = this.value">
                </div>
                <div class="form-group col-md-6">
                  <label for="name">Nama Lengkap</label>
                  <input type="text" class="form-control" id="name" oninput="txtName = this.value">
                </div>
              </div>
              <div class="form-group">
                <label for="comment">Text yang ingin ditulis:</label>
                <textarea class="form-control" id="content" rows="10" oninput="txtContent = this.value"></textarea>
              </div>


            </div>
            <div class="form-group">

              <button class="main-button"
                onclick="downloadCanvas(document.getElementById('defaultCanvas0'), 'hasil.png')">Download</button>
            </div>
          </div>
        </div>
        <div class="col-lg-6 col-md-12 col-sm-12">


          <main class="paper-container"></main>

          
        </div>
      </div>
    </div>
    </div>
    </div>
  </section>
  <!-- jQuery -->
  <script src="assets/js/jquery-2.1.0.min.js"></script>

  <!-- Bootstrap -->
  <script src="assets/js/popper.js"></script>
  <script src="assets/js/bootstrap.min.js"></script>

  <!-- Plugins -->
  <script src="assets/js/owl-carousel.js"></script>
  <script src="assets/js/scrollreveal.min.js"></script>
  <script src="assets/js/waypoints.min.js"></script>
  <script src="assets/js/jquery.counterup.min.js"></script>
  <script src="assets/js/imgfix.min.js"></script>

  <!-- Global Init -->
  <script src="assets/js/custom.js"></script>



</body>

</html>
